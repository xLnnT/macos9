<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mac OS 9</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    width: 100vw;
    height: 100vh;
    background: #111;
    overflow: hidden;
  }

  .screen {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: #000;
  }

  .screen iframe {
    width: 100%;
    height: 100%;
    border: none;
    display: block;
  }

  /* Glass bulge layer */
  .screen-glass {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 12;
    background:
      radial-gradient(
        ellipse 60% 50% at 30% 25%,
        rgba(255, 255, 255, 0.09) 0%,
        transparent 60%
      ),
      radial-gradient(
        ellipse 40% 30% at 70% 75%,
        rgba(255, 255, 255, 0.03) 0%,
        transparent 50%
      );
  }

  /* CRT screen curvature & reflections */
  .screen::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      radial-gradient(
        ellipse 120% 120% at 50% 50%,
        transparent 60%,
        rgba(0, 0, 0, 0.15) 100%
      ),
      linear-gradient(
        160deg,
        rgba(255, 255, 255, 0.06) 0%,
        transparent 40%
      );
    box-shadow: inset 0 0 60px rgba(0, 0, 0, 0.3);
    z-index: 10;
  }

  /* Scanline overlay */
  .screen::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.04) 2px,
      rgba(0, 0, 0, 0.04) 4px
    );
    z-index: 11;
  }
</style>
</head>
<body>
  <div class="screen">
    <iframe id="os9" src="index.html?v=fba61fb" title="Mac OS 9"></iframe>
    <div class="screen-glass"></div>
  </div>
  <script>
    document.getElementById('os9').addEventListener('load', function() {
      var doc = this.contentDocument;
      var bw = doc.getElementById('browser-window');
      if (bw) {
        bw.style.width = '27.5%';
        bw.style.height = '85%';
        bw.style.left = '5%';
        bw.style.top = '24px';
      }

      // Hide finder window on load
      var fw = doc.getElementById('finder-window');
      if (fw) {
        fw.classList.add('hidden');
      }

      // Replace marketplace listings (keep vase, replace the rest)
      var listingsView = doc.getElementById('mkt-listings-view');
      if (listingsView) {
        var allListings = listingsView.querySelectorAll('.mkt-listing');
        for (var i = 0; i < allListings.length; i++) {
          if (allListings[i].id !== 'mkt-vase-listing') {
            allListings[i].remove();
          }
        }

        var products = [
          { title: 'The Change Is Me Vinyl Preorder Exclusive', url: 'https://www.doodseskader.com/product-page/the-change-is-me-vinyl-preorder-exclusive', img: 'https://static.wixstatic.com/media/456e1e_6a36b172edc340ca8ea1212899bd8f8e~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Music > Vinyl' },
          { title: 'No Laughter Left in Me Hoodie in Black', url: 'https://www.doodseskader.com/product-page/no-laughter-left-in-me-hoodie-in-black', img: 'https://static.wixstatic.com/media/456e1e_ec24e6c5f5d141bdb95ede7f628ea838~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > Hoodies' },
          { title: 'The Change Is Me Crewneck in Ice Blue', url: 'https://www.doodseskader.com/product-page/the-change-is-me-crewneck-in-ice-blue', img: 'https://static.wixstatic.com/media/456e1e_2ce81dbded3a4eb487f6a0e72b23efb8~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > Crewnecks' },
          { title: 'The Change Is Me Vinyl', url: 'https://www.doodseskader.com/product-page/the-change-is-me-vinyl', img: 'https://static.wixstatic.com/media/456e1e_ea2ecc17e472406a9fe27486ba8f2436~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Music > Vinyl' },
          { title: 'Stuck in the Dark T-Shirt in Stone Washed Black', url: 'https://www.doodseskader.com/product-page/stuck-in-the-dark-t-shirt-in-stone-washed-black', img: 'https://static.wixstatic.com/media/456e1e_5235bba8629e4d9db0d58cdeaa321e85~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > T-Shirts' },
          { title: 'The Change Is Me T-Shirt in Off-White', url: 'https://www.doodseskader.com/product-page/the-change-is-me-t-shirt-in-off-white', img: 'https://static.wixstatic.com/media/456e1e_e44f200763344b96bf9133d19784b614~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > T-Shirts' },
          { title: 'The Change Is Me CD', url: 'https://www.doodseskader.com/product-page/the-change-is-me-cd', img: 'https://static.wixstatic.com/media/456e1e_9d4ed417d8e74ecdbaf6d96546a0c9a1~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Music > CDs' },
          { title: 'Doodseskader Embroidered Beanie', url: 'https://www.doodseskader.com/product-page/doodseskader-embroidered-beanie', img: 'https://static.wixstatic.com/media/456e1e_6a0e550b7fa54af49aad074c7153bcf8~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > Accessories' },
          { title: 'Doodseskader Embroidered Patch', url: 'https://www.doodseskader.com/product-page/doodseskader-embroidered-patch', img: 'https://static.wixstatic.com/media/456e1e_50fbd64a6f6d4b6da503107a354602ed~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > Accessories' },
          { title: 'Doodseskader Enamel Pin', url: 'https://www.doodseskader.com/product-page/doodseskader-enamel-pin', img: 'https://static.wixstatic.com/media/456e1e_b69d0a96cc7b4c34b29662536eacac86~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > Accessories' },
          { title: 'Bend Until I\'d Break T-Shirt in Black', url: 'https://www.doodseskader.com/product-page/bend-until-i-d-break-t-shirt-in-black', img: 'https://static.wixstatic.com/media/456e1e_8d04684bbc01402096aba183a4fbd7c6~mv2.png/v1/fit/w_500,h_500,q_90/file.png', cat: 'Apparel > T-Shirts' }
        ];

        var bottomBar = listingsView.querySelector('.mkt-bottom-bar');
        for (var i = 0; i < products.length; i++) {
          var p = products[i];
          var div = doc.createElement('div');
          div.className = 'mkt-listing';
          div.innerHTML = '<table cellpadding="0" cellspacing="0" border="0"><tr>' +
            '<td class="mkt-listing-img"><img src="' + p.img + '" alt="' + p.title + '" style="width:48px;height:48px;border:1px solid #999;object-fit:cover"></td>' +
            '<td class="mkt-listing-info"><div class="mkt-listing-title"><a href="' + p.url + '" target="_blank">' + p.title + '</a></div>' +
            '<div class="mkt-listing-meta">' + p.cat + '</div>' +
            '<div class="mkt-seller">Seller: <a href="https://www.doodseskader.com" target="_blank">Doodseskader</a> <span class="mkt-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</span></div></td>' +
            '<td class="mkt-listing-price"><div style="margin-top:3px"><a href="' + p.url + '" target="_blank" style="font-family:Verdana,sans-serif;font-size:8px;background:#006;color:#fff;padding:2px 8px;text-decoration:none;font-weight:bold">View Item</a></div></td>' +
            '</tr></table>';
          if (bottomBar) {
            listingsView.insertBefore(div, bottomBar);
          } else {
            listingsView.appendChild(div);
          }
        }

        // Update item count
        var countSpan = listingsView.querySelector('span[style]');
        if (countSpan && countSpan.textContent.indexOf('showing') !== -1) {
          countSpan.textContent = '(showing 1-12 of 12)';
        }

        // Update bottom bar
        if (bottomBar) {
          bottomBar.innerHTML = 'Page: <b>1</b>';
        }
      }
    });
  </script>
</body>
</html>
